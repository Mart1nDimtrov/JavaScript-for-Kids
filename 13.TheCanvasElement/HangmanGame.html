<!DOCTYPE html>
<html>
<head>
	<title>Hangman</title>
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
</head>
<body>
	<form id="form">
	Guess a letter, or click Cancel to stop playing.
	  <input type="text" name="guess">
	</form>
	<canvas id="canvas" width="400" height="400"></canvas>
	<p id="current-guess"></p>
	<script>
		var canvas= document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
		ctx.strokeStyle= "Black";
		ctx.lineWidth = 4;
		ctx.beginPath();
		var drawHangman = function(count) {
			if (count == 1) {
				// draw head
				ctx.strokeRect(100,50,50,50);
			} else if (count == 2) {
				// draw neck
				ctx.moveTo(125, 100);
				ctx.lineTo(125, 125);
			} else if (count == 3) {
				// draw hand
				ctx.moveTo(125, 160);
				ctx.lineTo(170, 120);
			} else if (count == 4) {
				// draw hand
				ctx.moveTo(125, 160);
				ctx.lineTo(80, 120);
			} else if (count == 5) {
				// draw body
				ctx.moveTo(125, 125);
				ctx.lineTo(125, 220);
			} else if (count == 6) {
				// draw leg
				ctx.moveTo(125, 220);
				ctx.lineTo(180, 280);
			} else if (count == 7) {
				// draw leg
				ctx.moveTo(125, 220);
				ctx.lineTo(70, 280);
			}
			ctx.stroke();
		}
		
		// Create an array of words
		var words = [
		"javascript", 
		"monkey",
		"amazing",
		"pancake",
		"donkey",
		"hazard",
		"random"
		];

		// Pick a random word
		var word = words[Math.floor(Math.random() * words.length)];

		//Set up the answer array
		var answerArray = [];
		for (var i = 0; i < word.length; i++){
			answerArray[i] = "_";
		}
		var remainingLetters = word.length;
		var remainingGuesses = 7;
		var guessed = false;
		$("#current-guess").text(answerArray.join(' '));
		$("#form").on("submit", function(event) {
			event.preventDefault();
			if(remainingLetters > 0 && remainingGuesses > 0) {
				// Show the player their progress
				$("#current-guess").text(answerArray.join(' '));
				var guess = $("input[name='guess']").val();
				if (guess === null)
				{

				} else if (guess.length !== 1){

				} else {
					// Update the game state with the guess
					guessed = false;
					for(j = 0; j < word.length; j++){
						if(guess === word[j] && answerArray[j] === "_") {
							answerArray[j] = word[j];
							word[j] = word[j].toUpperCase();
							guessed = true;
							remainingLetters--;
							$("#current-guess").text(answerArray.join(' '));
						}
					}
					if (!guessed){
						remainingGuesses--;
						drawHangman(7 - remainingGuesses);
					}
				}
			}
			$("input[name='guess']").val("");
		});
	</script>
</body>
</html>

